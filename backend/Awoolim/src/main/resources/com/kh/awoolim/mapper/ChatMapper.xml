<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.kh.awoolim.mapper.ChatMapper">

	<!-- 채팅 메시지 삽입 -->
	<insert id="insertChat"
		parameterType="com.kh.awoolim.domain.Chat">
		INSERT INTO CHAT (chatno, clubno, userid, message,
		regdate)
		VALUES (CHAT_SEQ.NEXTVAL, #{clubNo}, #{userId}, #{message},
		SYSDATE)
	</insert>

	<!-- 클럽 번호로 채팅 메시지 조회 -->
	<select id="selectChatsByClubNo"
		resultType="com.kh.awoolim.domain.Chat" parameterType="int">
		SELECT chatno,
		clubno, userid, message, regdate
		FROM CHAT
		WHERE clubno = #{clubNo}
		ORDER BY regdate ASC
	</select>

</mapper>